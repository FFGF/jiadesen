<!DOCTYPE html>
<html lang="zh-CN">

  <head>
    <meta charset="UTF-8">
    <title>用户注册</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="Public/CSS/main.css">
    <link rel="stylesheet" href="Public/CSS/zh.css">
    <style>
      .first-bar .navbar-brand{padding-top: 15px;}
    </style>

  </head>

  <body onload="createCode()">

    <!-- 最顶部的navbar -->
    <nav class="navbar navbar-default navbar-fixed-top first-bar">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#first-bar" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
          <a class="navbar-brand" href="index.html">欢迎光临安必选医乐网</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse pull-right" id="first-bar">
          <ul class="nav navbar-nav">
            <li class="active">
              <a href="login.html">我的账号 <span class="sr-only">(current)</span></a>
            </li>

            <li>
              <a href="register.html">免费注册</a>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">系统公告 <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li>
                  <a href="#">公告一</a>
                </li>
                <li>
                  <a href="#">公告二</a>
                </li>
                <li>
                  <a href="#">公告三</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
    </nav>

    <!--
  作者：offline
  时间：2017-07-08
  描述：注册主面板内容
-->

    <div class="container" style="margin-top:30px;margin-bottom:20px;">
      <div class="row">
        <div class="col-md-12" style="text-align: center;">
          <h3>注 册</h3>
        </div>
      </div>

      <form class="form-horizontal">

        <!--用户头像-->
        <div class="form-group">
          <label class="col-md-4 control-label">用户头像：</label>
          <div class="col-md-4">
                    <div class="con4">
                      <canvas id="cvs" width="200" height="200"></canvas>
                      <span class="btn upload">上传头像<input type="file" class="upload_pic" id="upload" /></span>
                    </div>

          </div>
        </div>

        <!--姓名输入-->
        <div class="form-group">
          <label class="col-md-4 control-label">用户名称：</label>
          <div class="col-md-4">
            <input type="text" class="form-control" id="username" name="username" oninput="checkname()" style="width:340px;display: inline;" placeholder="请输入2-20位中文或英文用户名">
            <label>
              <span id="n_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="n_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>
        </div>
        <!--手机号码-->
        <div class="form-group">
          <label class="col-md-4 control-label">手机号码：</label>
          <div class="col-md-4">
            <input type="text" class="form-control" id="phone" name="phone" oninput="checknumb()" style="width:340px;display: inline;" placeholder="请输入11位手机号码">
            <label>
              <span id="p_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="p_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>

        </div>
        <!--验证码-->
        <div class="form-group">
          <label class="col-md-4 control-label">验证码：</label>
          <div class="col-md-4">
            <input type="text" class="form-control" id="check_one" name="check_one" style="width: 240px;display: inline;" oninput="check()" placeholder="请输入验证码">
            <input type="button" id="code" class="input-sm" onclick="createCode()" style="width:60px;" />
            <!--
                          作者：offline
                          时间：2017-07-11
                          描述：<button type="button" id="refresh" class="btn btn-default" style="margin-bottom: 3px;" onclick="createCode()">刷新</button>
            
                        -->
            <a href="javascript:void(0)" onclick="createCode()">刷新</a>
            <label>
              <span id="y_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="y_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>

        </div>
        <!--短信验证码-->
        <div class="form-group">
          <label class="col-md-4 control-label">短信验证码：</label>
          <div class="col-md-4">
            <div class="input-group" style="width: 340px;">
              <input type="text" id="dxCode" class="form-control" oninput="check_d()" placeholder="请输入短信验证码" />
              <span class="input-group-btn">
                            <input class="btn btn-default" id="time_btn" type="button" value="发送短信验证码" onclick="showtime(60)" />
                        </span>
            </div>
            <label>
              <span id="dy_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="dy_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>

            <!-- /input-group -->
          </div>
          <!-- /.col-lg-4 -->
        </div>
        <!--设置密码-->
        <div class="form-group">
          <label class="col-md-4 control-label">密码：</label>
          <div class="col-md-4">
            <input type="password" class="form-control" id="pwd" style="width:340px;display: inline;" oninput="validate()" onKeyUp="pwStrength(this.value)" onBlur="pwStrength(this.value)" placeholder="请输入6-18位且以字母开头的密码">
            <label>
              <span id="pwd_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="pwd_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>
        </div>
        <!--密码强度-->
        <div class="form-group">
          <label class="col-md-5 control-label">密码强度:</label>
          <table width="217" border="1" cellspacing="0" cellpadding="1" bordercolor="#cccccc" height="20">
            <tr align="center" bgcolor="#eeeeee">
              <td width="33%" id="strength_L">弱</td>
              <td width="33%" id="strength_M">中</td>
              <td width="33%" id="strength_H">强</td>
            </tr>
          </table>
        </div>
        <!--确认密码-->
        <div class="form-group">
          <label class="col-md-4 control-label">确认密码：</label>
          <div class="col-md-4">
            <input type="password" class="form-control" id="pwd_again" style="width:340px;display: inline;" oninput="validate()" placeholder="请输入再次确认密码">
            <label>
              <span id="pwd2_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="pwd2_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>

        </div>
        <!--注册类型-->
        <div class="form-group">
          <label for="inputEmail3" class="col-md-4 control-label">注册类型：</label>
          <div class="col-md-4">
            <select class="form-control" id="usertype" style="width: 340px;" oninput="chose()">
              <option disabled selected value>请选择</option>
              <option>生产商</option>
              <option>授权代理</option>
              <option>销售代理专员</option>
              <option>销售代理公司</option>
              <option>医疗机构</option>
            </select> 
            
            <label>
              <span id="s_o" class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span id="s_e" class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>
          
        </div>
        <!-- 推荐码 -->
        <div class="form-group">
          <label class="col-md-4 control-label">推荐码：</label>
          <div class="col-md-4">
            <input type="text" class="form-control"  style="width:340px;display: inline;" placeholder="请输入推荐码(如果没有可以不填写)">
            <label>
              <span  class="glyphicon glyphicon-ok form-control-feedback form" style="display:none"></span>
              <span  class="glyphicon glyphicon-remove form-control-feedback"></span>
            </label>
          </div>
        </div>
        <!--协议注册-->
        <div class="form-group" style="text-align: center;">
          <div class="col-md-12">
            <div class="checkbox">
              <label>
                <input type="checkbox"/> 我已阅读<a href="#">安必选医疗用户协议</a>
              </label>
            </div>
          </div>
        </div>

        <div class="form-group" style="text-align: center;">
          <div class=" col-md-12">
            <button type="submit" class="btn btn-default">注册</button>
          </div>
        </div>

      </form>

    </div>

    <!-- 第四部分的navbar -->
    <nav class="navbar navbar-default fouth-bar">
      <div class="container">
        <div class="row">
          <div class="col-md-3">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
              <a class="navbar-brand" href="#">
                <img src="recourse/Image/site-sprite.png" alt="">
              </a>
              <p>正品保证</p>
              <p>正品保障，品牌货源</p>
            </div>
          </div>

          <div class="col-md-3">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                 </button>
              <a class="navbar-brand" href="#">
                <img src="recourse/Image/site-sprite.png" alt="">
              </a>
              <p>正品保证</p>
              <p>正品保障，品牌货源</p>
            </div>
          </div>

          <div class="col-md-3">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
              <a class="navbar-brand" href="#">
                <img src="recourse/Image/site-sprite.png" alt="">
              </a>
              <p>正品保证</p>
              <p>正品保障，品牌货源</p>
            </div>
          </div>

          <div class="col-md-3">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
              <a class="navbar-brand" href="#">
                <img src="recourse/Image/site-sprite.png" alt="">
              </a>
              <p>正品保证</p>
              <p>正品保障，品牌货源</p>
            </div>
          </div>
        </div>

      </div>
      <!-- /.container-fluid -->
    </nav>

    <!-- 底部的footer -->
    <nav class="navbar-inverse footer">
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <ul class="list-unstyled">
              <li>新手指南</li>
              <li>用户注册</li>
            </ul>
          </div>

          <div class="col-md-2">
            <ul class="list-unstyled">
              <li>北登服务</li>
              <li>服务协议</li>
            </ul>
          </div>

          <div class="col-md-2">
            <ul class="list-unstyled">
              <li>信息安全</li>
              <li>免责声明</li>
            </ul>
          </div>

          <div class="col-md-2">
            <ul class="list-unstyled">
              <li>隐私声明</li>
              <li>法律声明</li>
              <li>联系我们</li>
              <li>关于我们</li>
            </ul>
          </div>

          <div class="col-md-4">
            <img src="recourse/Image/weixin.jpg" alt="" class="img-responsive" style="width: 100px">
          </div>
        </div>

        <hr class="divider">

        <div class="row">
          <div class="col-md-12 word-list">
            隐私声明 | 法律声明 | 联系我们 | 关于我们 | 产品地图 | 器械数据库 | 知识库 | 网站导航 | 互联网药品信息服务资格证
          </div>

          <div class="col-md-12 word-list">
          </div>

          <div class="col-md-12 word-list" style="margin-bottom: 50px">
          </div>

        </div>
      </div>
      <!-- /.container-fluid -->
    </nav>

  </body>
  <script type="text/javascript" src="jquery-2.1.1/jquery.js"></script>
  <script type="text/javascript" src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="Public/JS/register.js"></script>

  <style type='text/css'>
    #code {
      font-family: Arial, 宋体;
      font-style: italic;
      color: green;
      border: 0;
      padding: 2px 3px;
      letter-spacing: 3px;
      font-weight: bolder;
    }
  </style>

  <script>
  //获取上传按钮
  var input1 = document.getElementById("upload"); 
   
  if(typeof FileReader==='undefined'){ 
       //result.innerHTML = "抱歉，你的浏览器不支持 FileReader"; 
       input1.setAttribute('disabled','disabled'); 
  }else{ 
       input1.addEventListener('change',readFile,false); 
       /*input1.addEventListener('change',function (e){
        console.log(this.files);//上传的文件列表
       },false); */
  }
  function readFile(){ 
    var file = this.files[0];//获取上传文件列表中第一个文件
    if(!/image\/\w+/.test(file.type)){
    //图片文件的type值为image/png或image/jpg
      alert("文件必须为图片！");
      return false; 
    } 
    // console.log(file);
    var reader = new FileReader();//实例一个文件对象
    reader.readAsDataURL(file);//把上传的文件转换成url
    //当文件读取成功便可以调取上传的接口
    reader.onload = function(e){ 
      // console.log(this.result);//文件路径
      // console.log(e.target.result);//文件路径
      /*var data = e.target.result.split(',');
      var tp = (file.type == 'image/png')? 'png': 'jpg';
      var imgUrl = data[1];//图片的url，去掉(data:image/png;base64,)
      //需要上传到服务器的在这里可以进行ajax请求
      // console.log(imgUrl);
      // 创建一个 Image 对象 
      var image = new Image();
      // 创建一个 Image 对象 
      // image.src = imgUrl;
      image.src = e.target.result;
      image.onload = function(){
        document.body.appendChild(image);
      }*/

      var image = new Image();
      // 设置src属性 
      image.src = e.target.result;
      var max=200;
      // 绑定load事件处理器，加载完成后执行，避免同步问题
      image.onload = function(){ 
        // 获取 canvas DOM 对象 
        var canvas = document.getElementById("cvs"); 
        // 如果高度超标 宽度等比例缩放 *= 
        /*if(image.height > max) {
          image.width *= max / image.height; 
          image.height = max;
        } */
        // 获取 canvas的 2d 环境对象, 
        var ctx = canvas.getContext("2d"); 
        // canvas清屏 
        ctx.clearRect(0, 0, canvas.width, canvas.height); 
        // 重置canvas宽高
        /*canvas.width = image.width;
        canvas.height = image.height;
        if (canvas.width>max) {canvas.width = max;}*/
        // 将图像绘制到canvas上
        // ctx.drawImage(image, 0, 0, image.width, image.height);
        ctx.drawImage(image, 0, 0, 200, 200);
        // 注意，此时image没有加入到dom之中
      };  
    }
  };
  </script>

</html>